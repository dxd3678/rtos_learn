## LDR 与 STR

假设我们有两个内存位置：`source` 和 `destination`，要实现 `destination = source` 的操作，可以按照以下步骤实现：

```c
    LDR R0, =source       // 将源变量的地址加载到 R0
    LDR R1, [R0]          // 从源变量地址加载数据到 R1
    LDR R2, =destination  // 将目标变量的地址加载到 R2
    STR R1, [R2]          // 将 R1 中的数据存储到目标变量地址
```

`LDR R0, =source`
将源变量的地址加载到寄存器 `R0` 中。

`LDR R1, [R0]`
使用 `R0` 中存储的地址，从内存中加载源变量的值到寄存器 `R1`。

`LDR R2, =destination`
将目标变量的地址加载到寄存器 `R2` 中。

`STR R1, [R2]`
使用 `R2` 中的地址，将寄存器 `R1` 的值存储到目标变量地址。



## STMDB 与 LDMIA

`STMDB` 是 ARM 汇编中的一条**存储多寄存器**指令，其全称是 **Store Multiple Decrement Before**。它将多个寄存器的值存储到内存中，同时在存储之前调整基地址寄存器的值。

- **STM**：表示“存储多个寄存器”，将寄存器组的值写入内存。
- **DB**：表示“Decrement Before”，基地址寄存器在存储之前先递减。
- **关键点**：`STMDB` 是“先减地址后存储”，适合堆栈向下增长的操作。
- **配套指令**：与 `LDMIA` 配合，用于快速保存和恢复寄存器组。

```asm
STMDB Rn!, {Rlist}

# Rn: 基地址寄存器，用于指定存储起始地址。
# !: 可选，表示使用完指令后，更新 Rn 的值。
# Rlist: 寄存器列表，指定要存储的寄存器组（例如 {R0, R1, R2}）。
```



假设内存地址 `0x2000` 存放一个数组，我们希望将寄存器 `R1` 和 `R2` 的值依次存入数组：

工作流程：

- `R0` 原始值为 `0x2000`。
- 存储 `R1` 到地址 `0x1FFC`。
- 存储 `R2` 到地址 `0x1FF8`。
- 最后 `R0` 的值更新为 `0x1FF8`。

```asm
LDR R0, =0x2000   // 基地址存储到 R0
STMDB R0!, {R1, R2}
```

